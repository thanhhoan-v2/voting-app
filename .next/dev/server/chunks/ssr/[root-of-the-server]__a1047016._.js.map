{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/adrian-phan.team-mint.io/personal-projects/voting-app/src/components/VoteButton.tsx"],"sourcesContent":["'use client';\n\ninterface VoteButtonProps {\n  optionId: number;\n  optionText: string;\n  voteCount: number;\n  pollId: number;\n  onVote: (optionId: number) => void;\n}\n\nexport default function VoteButton({ optionId, optionText, voteCount, pollId, onVote }: VoteButtonProps) {\n  return (\n    <button\n      onClick={() => onVote(optionId)}\n      className=\"vote-option w-full text-left p-6\"\n    >\n      <div className=\"flex justify-between items-center\">\n        <div className=\"flex items-center space-x-3\">\n          <div className=\"w-5 h-5 border-2 border-neutral-300 rounded-full\"></div>\n          <span className=\"text-body text-lg font-medium\">\n            {optionText}\n          </span>\n        </div>\n        <div className=\"flex items-center space-x-2\">\n          <span className=\"vote-badge\">\n            {voteCount} {voteCount === 1 ? 'vote' : 'votes'}\n          </span>\n        </div>\n      </div>\n    </button>\n  );\n}"],"names":[],"mappings":";;;;;AAAA;;AAUe,SAAS,WAAW,EAAE,QAAQ,EAAE,UAAU,EAAE,SAAS,EAAE,MAAM,EAAE,MAAM,EAAmB;IACrG,qBACE,8OAAC;QACC,SAAS,IAAM,OAAO;QACtB,WAAU;kBAEV,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;;;;;sCACf,8OAAC;4BAAK,WAAU;sCACb;;;;;;;;;;;;8BAGL,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAK,WAAU;;4BACb;4BAAU;4BAAE,cAAc,IAAI,SAAS;;;;;;;;;;;;;;;;;;;;;;;AAMpD"}},
    {"offset": {"line": 83, "column": 0}, "map": {"version":3,"sources":["file:///Users/adrian-phan.team-mint.io/personal-projects/voting-app/src/app/polls/%5Bid%5D/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, use } from 'react';\nimport VoteButton from '@/components/VoteButton';\nimport Link from 'next/link';\n\ninterface Poll {\n  id: number;\n  title: string;\n  description: string;\n  created_by_username: string;\n  options: Array<{\n    id: number;\n    option_text: string;\n    vote_count: number;\n  }>;\n}\n\nexport default function PollPage({ params }: { params: Promise<{ id: string }> }) {\n  const resolvedParams = use(params);\n  const [poll, setPoll] = useState<Poll | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [hasVoted, setHasVoted] = useState(false);\n\n  useEffect(() => {\n    fetchPoll();\n  }, [resolvedParams.id]);\n\n  const fetchPoll = async () => {\n    try {\n      const response = await fetch(`/api/polls/${resolvedParams.id}`);\n      const data = await response.json();\n      setPoll(data.poll);\n      setHasVoted(data.hasVoted);\n    } catch (error) {\n      console.error('Error fetching poll:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleVote = async (optionId: number) => {\n    if (hasVoted) {\n      return;\n    }\n\n    try {\n      const response = await fetch(`/api/polls/${resolvedParams.id}/vote`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ optionId }),\n      });\n\n      if (response.ok) {\n        setHasVoted(true);\n        await fetchPoll();\n      } else {\n        alert('Error voting');\n      }\n    } catch (error) {\n      alert('Error voting');\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50\">\n        <div className=\"flex items-center justify-center min-h-screen\">\n          <div className=\"card p-8 text-center\">\n            <div className=\"w-12 h-12 border-4 border-neutral-200 border-t-primary rounded-full animate-spin mx-auto mb-4\"></div>\n            <p className=\"text-body\">Loading poll...</p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (!poll) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50\">\n        <div className=\"flex items-center justify-center min-h-screen\">\n          <div className=\"card p-8 text-center\">\n            <svg className=\"w-16 h-16 text-neutral-400 mx-auto mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n            </svg>\n            <h2 className=\"heading-secondary text-2xl mb-4\">Poll not found</h2>\n            <p className=\"text-body text-neutral-600 mb-6\">This poll doesn't exist or has been removed</p>\n            <Link href=\"/polls\" className=\"btn-primary\">\n              Back to polls\n            </Link>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  const totalVotes = poll.options.reduce((sum, option) => sum + option.vote_count, 0);\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50\">\n      <div className=\"container mx-auto px-4 py-12 max-w-3xl\">\n        <Link href=\"/polls\" className=\"text-primary hover:text-primary-dark font-medium flex items-center space-x-2 mb-6 inline-block\">\n          <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\n          </svg>\n          <span>Back to polls</span>\n        </Link>\n\n        <div className=\"card p-8 mb-8\">\n          <div className=\"flex justify-between items-start mb-6\">\n            <div className=\"status-badge status-live\">\n              Active\n            </div>\n          </div>\n\n          <h1 className=\"heading-primary text-3xl md:text-4xl mb-4\">\n            {poll.title}\n          </h1>\n          \n          {poll.description && (\n            <p className=\"text-body text-lg mb-6 text-neutral-600\">\n              {poll.description}\n            </p>\n          )}\n          \n          <div className=\"flex items-center space-x-4 text-sm text-neutral-500\">\n            <span>Created by {poll.created_by_username}</span>\n            <span>â€¢</span>\n            <span>{totalVotes} {totalVotes === 1 ? 'vote' : 'votes'}</span>\n          </div>\n        </div>\n\n        <div className=\"mb-8\">\n          <h2 className=\"heading-secondary text-2xl mb-6\">\n            {hasVoted ? 'Results' : 'Cast your vote'}\n          </h2>\n\n          <div className=\"space-y-4\">\n            {poll.options.map((option) => (\n              <div key={option.id} className=\"relative\">\n                <VoteButton\n                  optionId={option.id}\n                  optionText={option.option_text}\n                  voteCount={option.vote_count}\n                  pollId={poll.id}\n                  onVote={handleVote}\n                />\n                {totalVotes > 0 && (\n                  <div \n                    className=\"absolute top-0 left-0 h-full bg-primary opacity-10 rounded-lg transition-all duration-500 pointer-events-none\"\n                    style={{ width: `${(option.vote_count / totalVotes) * 100}%` }}\n                  ></div>\n                )}\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {hasVoted && (\n          <div className=\"card p-6 border-green-200 bg-green-50\">\n            <div className=\"flex items-center space-x-3\">\n              <div className=\"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center\">\n                <svg className=\"w-5 h-5 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                </svg>\n              </div>\n              <div>\n                <h3 className=\"heading-secondary text-lg\">Vote submitted</h3>\n                <p className=\"text-body text-sm text-neutral-600\">Your vote has been recorded successfully</p>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAkBe,SAAS,SAAS,EAAE,MAAM,EAAuC;IAC9E,MAAM,iBAAiB,IAAA,4MAAG,EAAC;IAC3B,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAc;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IAEzC,IAAA,kNAAS,EAAC;QACR;IACF,GAAG;QAAC,eAAe,EAAE;KAAC;IAEtB,MAAM,YAAY;QAChB,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,CAAC,WAAW,EAAE,eAAe,EAAE,EAAE;YAC9D,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,QAAQ,KAAK,IAAI;YACjB,YAAY,KAAK,QAAQ;QAC3B,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,wBAAwB;QACxC,SAAU;YACR,WAAW;QACb;IACF;IAEA,MAAM,aAAa,OAAO;QACxB,IAAI,UAAU;YACZ;QACF;QAEA,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,CAAC,WAAW,EAAE,eAAe,EAAE,CAAC,KAAK,CAAC,EAAE;gBACnE,QAAQ;gBACR,SAAS;oBACP,gBAAgB;gBAClB;gBACA,MAAM,KAAK,SAAS,CAAC;oBAAE;gBAAS;YAClC;YAEA,IAAI,SAAS,EAAE,EAAE;gBACf,YAAY;gBACZ,MAAM;YACR,OAAO;gBACL,MAAM;YACR;QACF,EAAE,OAAO,OAAO;YACd,MAAM;QACR;IACF;IAEA,IAAI,SAAS;QACX,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;;;;;sCACf,8OAAC;4BAAE,WAAU;sCAAY;;;;;;;;;;;;;;;;;;;;;;IAKnC;IAEA,IAAI,CAAC,MAAM;QACT,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;4BAA0C,MAAK;4BAAO,QAAO;4BAAe,SAAQ;sCACjG,cAAA,8OAAC;gCAAK,eAAc;gCAAQ,gBAAe;gCAAQ,aAAa;gCAAG,GAAE;;;;;;;;;;;sCAEvE,8OAAC;4BAAG,WAAU;sCAAkC;;;;;;sCAChD,8OAAC;4BAAE,WAAU;sCAAkC;;;;;;sCAC/C,8OAAC,uKAAI;4BAAC,MAAK;4BAAS,WAAU;sCAAc;;;;;;;;;;;;;;;;;;;;;;IAOtD;IAEA,MAAM,aAAa,KAAK,OAAO,CAAC,MAAM,CAAC,CAAC,KAAK,SAAW,MAAM,OAAO,UAAU,EAAE;IAEjF,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC,uKAAI;oBAAC,MAAK;oBAAS,WAAU;;sCAC5B,8OAAC;4BAAI,WAAU;4BAAU,MAAK;4BAAO,QAAO;4BAAe,SAAQ;sCACjE,cAAA,8OAAC;gCAAK,eAAc;gCAAQ,gBAAe;gCAAQ,aAAa;gCAAG,GAAE;;;;;;;;;;;sCAEvE,8OAAC;sCAAK;;;;;;;;;;;;8BAGR,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCAAI,WAAU;0CAA2B;;;;;;;;;;;sCAK5C,8OAAC;4BAAG,WAAU;sCACX,KAAK,KAAK;;;;;;wBAGZ,KAAK,WAAW,kBACf,8OAAC;4BAAE,WAAU;sCACV,KAAK,WAAW;;;;;;sCAIrB,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;;wCAAK;wCAAY,KAAK,mBAAmB;;;;;;;8CAC1C,8OAAC;8CAAK;;;;;;8CACN,8OAAC;;wCAAM;wCAAW;wCAAE,eAAe,IAAI,SAAS;;;;;;;;;;;;;;;;;;;8BAIpD,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCACX,WAAW,YAAY;;;;;;sCAG1B,8OAAC;4BAAI,WAAU;sCACZ,KAAK,OAAO,CAAC,GAAG,CAAC,CAAC,uBACjB,8OAAC;oCAAoB,WAAU;;sDAC7B,8OAAC,2IAAU;4CACT,UAAU,OAAO,EAAE;4CACnB,YAAY,OAAO,WAAW;4CAC9B,WAAW,OAAO,UAAU;4CAC5B,QAAQ,KAAK,EAAE;4CACf,QAAQ;;;;;;wCAET,aAAa,mBACZ,8OAAC;4CACC,WAAU;4CACV,OAAO;gDAAE,OAAO,GAAG,AAAC,OAAO,UAAU,GAAG,aAAc,IAAI,CAAC,CAAC;4CAAC;;;;;;;mCAXzD,OAAO,EAAE;;;;;;;;;;;;;;;;gBAmBxB,0BACC,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC;oCAAI,WAAU;oCAAyB,MAAK;oCAAO,QAAO;oCAAe,SAAQ;8CAChF,cAAA,8OAAC;wCAAK,eAAc;wCAAQ,gBAAe;wCAAQ,aAAa;wCAAG,GAAE;;;;;;;;;;;;;;;;0CAGzE,8OAAC;;kDACC,8OAAC;wCAAG,WAAU;kDAA4B;;;;;;kDAC1C,8OAAC;wCAAE,WAAU;kDAAqC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQlE"}}]
}